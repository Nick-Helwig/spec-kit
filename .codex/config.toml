[features]
web_search_request = true
experimental_use_rmcp_client = true

[sandbox_workspace_write]
network_access = true

[mcp_servers.subagents]
# Specify CLI rewrites this section with absolute paths during `specify init --ai codex`.
# Directly start the codex-subagents MCP server and pass the project-specific agents directory
# (./agents) so the server loads custom personas before the handshake (per upstream README guidance).
command = "/usr/bin/env"
args = [
  "node",
  "/ABSOLUTE/PATH/TO/codex-subagents-mcp/dist/codex-subagents.mcp.js",
  "--agents-dir",
  "/ABSOLUTE/PATH/TO/PROJECT/agents"
]
env = { CODEX_HOME = "/ABSOLUTE/PATH/TO/PROJECT/.codex" }
startup_timeout_sec = 120
tool_timeout_sec   = 300

[profiles.research]
model = "gpt-5"
model_reasoning_effort = "high"
approval_policy = "on-request"
sandbox_mode = "read-only"

[profiles.implementor]
model = "gpt-codex"
model_reasoning_effort = "medium"
approval_policy = "on-request"
sandbox_mode = "workspace-write"

[profiles.orchestrator]
model = "gpt-5"
model_reasoning_effort = "high"
approval_policy = "on-request"
sandbox_mode = "workspace-write"

[profiles.review]
model = "gpt-codex"
model_reasoning_effort = "high"
approval_policy = "on-request"
sandbox_mode = "read-only"
